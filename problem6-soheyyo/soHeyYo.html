<!DOCTYPE html>

<html>
  <head>
    <meta charset = "utf-8">
    <title>So, Hey, Yo, How you doing?</title>
    <script src="../blockly_compressed.js"></script>
    <script src="../blocks_compressed.js"></script>
    <script src="../javascript_compressed.js"></script>
    <script src="../python_compressed.js"></script>
    <script src="../msg/js/en.js"></script>

    <script src="soheyyo-blocks.js"></script>
    <script src="generators.js"></script>
    <script src="gameplay.js"></script>
    <style>
      body {
        font-family: verdana, sans-serif;
        font-size:100%;
      }
      .meterStatus {
        font-family:monospace;
      }
      .testCell {
        border: 1px dashed black;
        padding: 3px;
      }
    </style>
  </head>
  <body>
    <h1>So, Hey, Yo, How you doing?</h1>
    <p>So, Hey, Yo, How you doing?  You think you're an expert at conditional statements yet?  Try this one on for size.  The function <CODE>soHeyYo</CODE> should return a String according to the following rules:</p>
    <ul>
      <li>If n is divisible by 5, return, "So!"</li>
      <li>If n is divisible by 2 and <strong>NOT</strong> divisible by 5, return, "Hey!"</li>
      <li>If n is divisible by 3 and <strong>NOT</strong> divisible by 5, return, "Yo!"</li>
    </ul>
    <p>E.g., <CODE>soHeyYo(12)</CODE> should return the String, "Hey!Yo!" while <CODE>soHeyYo(30)</CODE> should return "So!" while <CODE>soHeyYo(7)</CODE> should not return anything.  But we're not going to make it so easy for you.  No nesting conditional statements, no boolean connectives, and only certain types of conditional statements are allowed.  <!--We're printing the result this time, not returning it.-->  You up for the challenge?</p>
    <div style = "padding: 5px; margin-bottom: 10px; background-color:#D0D0D0">
      Tests Passed (Green = Pass, Red = Fail):
      <span class = "testCell" id = "test0">0</span>
      <span class = "testCell" id = "test-12">-12</span>
      <span class = "testCell" id = "test100">100</span>
      <span class = "testCell" id = "test-1024">-1024</span>
      <span class = "testCell" id = "test45">45</span>
      <span class = "testCell" id = "test-39">-39</span>
      <span class = "testCell" id = "test35">35</span>
      <span class = "testCell" id = "test-41">-41</span>
    </div>
    <form STYLE = "float:right;width: 25%">
      <input id = "language" value = "Python" TYPE = "hidden">
      <DIV>
        <SPAN STYLE = "border:1px solid black; padding:2px; background-color:red;" onClick = "setLanguage('Python')" id = "pythonTab">Python</SPAN>
        <SPAN STYLE = "border:1px solid black; padding:2px;" onClick = "setLanguage('JavaScript')" id = "jsTab">JavaScript</SPAN>
        <SPAN STYLE = "border:1px solid black; padding:2px;" onClick = "runCodeAndTestFunctions()" id = "runTab">Run</SPAN>
      </DIV>
      <TEXTAREA id = "textarea" COLS = "50" ROWS = "50"></TEXTAREA>
    </form>
    <div id="blocklyDiv" style="height: 600px; width: 70%;float:left;"></div>
    <xml id = "toolbox" style = "display: none">
      <block type = "math_number"></block>
      <block type = "math_number_property"></block>
      <block type = "return"></block>
      <block type = "text"></block>
    </xml>
    <xml id="startBlocks" style="display: none">
      <block type="soHeyYo" movable="false" deletable="false" x="40" y="0">
        <statement name = "function">
          <block type = "controls_if" movable = "false" deletable = "false"></block>
        </statement>
      </block>
      <block type = "printSoHeyYo" movable="false" deletable="false" x = "40" y = "450"></block>
    </xml>
    <script>
     Blockly.inject(document.getElementById('blocklyDiv'),
            {toolbox: document.getElementById('toolbox')});
     Blockly.Xml.domToWorkspace(Blockly.mainWorkspace,
            document.getElementById('startBlocks'));
     function myUpdateFunction() {
       var code = Blockly.JavaScript.workspaceToCode();
       if(document.getElementById('language').value == "Python")
         code = Blockly.Python.workspaceToCode();
       document.getElementById('textarea').value = code;
      }
      Blockly.addChangeListener(myUpdateFunction);
      function setLanguage(language) {
        document.getElementById('language').value = language;
        pythonTab = document.getElementById("pythonTab");
        jsTab = document.getElementById("jsTab");
        if(language == "Python") {
          pythonTab.style.backgroundColor = "#ff0000";
          jsTab.style.backgroundColor = "#ffffff";
        } else {
          pythonTab.style.backgroundColor = "#ffffff";
          jsTab.style.backgroundColor = "#ff0000";
        }
        myUpdateFunction();
      }
    </script>
  </body>
</html>