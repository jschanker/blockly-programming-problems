<!DOCTYPE html>

<html>
  <head>
    <meta charset = "utf-8">
    <title>Is Special?</title>
    <script src="../blockly_compressed.js"></script>
    <script src="../blocks_compressed.js"></script>
    <script src="../javascript_compressed.js"></script>
    <script src="../python_compressed.js"></script>
    <script src="../msg/js/en.js"></script>

    <script src="special-blocks.js"></script>
    <script src="generators.js"></script>
    <script src="gameplay.js"></script>
    <style>
      body {
        font-family: verdana, sans-serif;
        font-size:100%;
      }
      .meterStatus {
        font-family:monospace;
      }
      .testCell {
        border: 1px dashed black;
        padding: 3px;
      }
    </style>
  </head>
  <body>
    <h1>Is Special?</h1>
    <p>Is Special? Every integer wants to be special, but sadly, not every integer is so lucky. :(  The rules for determining specialness here are quite arbitrary and slightly secretive.  Slightly because we're not going to tell you what they are in English.  Instead, we'll share the secret with you through some Python code for a function <CODE>isSpecialLong(num)</CODE> that determines whether num is special by returning True exactly in those cases:</p>
    <CODE><PRE>
def isSpecialLong(num):
    if(num > 1000):
        return True
    elif(num % 5 == 0):
        return False
    elif(num % 3 == 0):
        return True
    else:
        return False
    </PRE></CODE> 
    Now that the secret is out, here's the challenge.  You'll notice that we called the function <CODE>isSpecialLong</CODE> because we want you to accomplish what it did by only using a single return statement!  That's right, it's time to show off your mastery of logic and boolean operators with a new and improved <CODE>isSpecial</CODE> function to serve as its replacement.  Tracing the code for <CODE>isSpecialLong</CODE>, you can see that <CODE>isSpecial(1001)</CODE> and <CODE>isSpecial(36)</CODE> should both return <CODE>True</CODE> while <CODE>isSpecial(28)</CODE> and <CODE>isSpecial(30)</CODE> should both return <CODE>False</CODE>.</p>
    <div style = "padding: 5px; margin-bottom: 10px; background-color:#D0D0D0">
      Tests Passed (Green = Pass, Red = Fail):
      <span class = "testCell" id = "test1005">1005</span>
      <span class = "testCell" id = "test10000">10000</span>
      <span class = "testCell" id = "test3003">3003</span>
      <span class = "testCell" id = "test168421">168421</span>
      <span class = "testCell" id = "test-12345">-12345</span>
      <span class = "testCell" id = "test-235">-235</span>
      <span class = "testCell" id = "test36">36</span>
      <span class = "testCell" id = "test28">28</span>
    </div>
    <form STYLE = "float:right;width: 20%">
      <input id = "language" value = "Python" TYPE = "hidden">
      <DIV>
        <SPAN STYLE = "border:1px solid black; padding:2px; background-color:red;" onClick = "setLanguage('Python')" id = "pythonTab">Python</SPAN>
        <SPAN STYLE = "border:1px solid black; padding:2px;" onClick = "setLanguage('JavaScript')" id = "jsTab">JavaScript</SPAN>
        <SPAN STYLE = "border:1px solid black; padding:2px;" onClick = "runCodeAndTestFunctions()" id = "runTab">Run</SPAN>
      </DIV>
      <TEXTAREA id = "textarea" COLS = "50" ROWS = "50"></TEXTAREA>
    </form>
    <div id="blocklyDiv" style="height: 600px; width: 75%;float:left;"></div>
    <xml id = "toolbox" style = "display: none">
      <block type = "greaterthan1000"></block>
      <block type = "divisibleby3"></block>
      <block type = "divisibleby5"></block>
      <block type = "logic_operation"></block>
      <block type = "logic_negate"></block>
    </xml>
    <xml id="startBlocks" style="display: none">
      <block type="isSpecial" movable="false" deletable="false" x="40" y="0">
        <statement name = "function">
          <block type = "return" movable = "false" deletable = "false"></block>
        </statement>
      </block>
      <block type = "printIsSpecial" movable="false" deletable="false" x = "40" y = "150"></block>
    </xml>
    <script>
     Blockly.inject(document.getElementById('blocklyDiv'),
            {toolbox: document.getElementById('toolbox')});
     Blockly.Xml.domToWorkspace(Blockly.mainWorkspace,
            document.getElementById('startBlocks'));
     function myUpdateFunction() {
       var code = Blockly.JavaScript.workspaceToCode();
       if(document.getElementById('language').value == "Python")
         code = Blockly.Python.workspaceToCode();
       document.getElementById('textarea').value = code;
      }
      Blockly.addChangeListener(myUpdateFunction);
      function setLanguage(language) {
        document.getElementById('language').value = language;
        pythonTab = document.getElementById("pythonTab");
        jsTab = document.getElementById("jsTab");
        if(language == "Python") {
          pythonTab.style.backgroundColor = "#ff0000";
          jsTab.style.backgroundColor = "#ffffff";
        } else {
          pythonTab.style.backgroundColor = "#ffffff";
          jsTab.style.backgroundColor = "#ff0000";
        }
        myUpdateFunction();
      }
    </script>
  </body>
</html>